# Программный интерфейс

Автоматически сгенерировано [BSl LS](https://github.com/1c-syntax/bsl-language-server)

## Модуль объекта

### Сервер

```bsl
// Инициализирует клиента для связи с MockServer на указанном хосте и порту.
//
// Параметры:
// 	URL - Строка - URL;
// 	Порт - Строка - порт;
// 	Сбросить - Булево - Истина - предварительно сбросить сервер MockServer, иначе - Ложь (по умолчанию);
//
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта;
//
// Пример:
//  Мок = Обработки.MockServerClient.Создать().Сервер("http://server");
//  Мок = Обработки.MockServerClient.Создать().Сервер("http://server", "1090");
//  Мок = Обработки.MockServerClient.Создать().Сервер("http://server", "1090", Истина);
//
Функция Сервер(URL, Порт = Undefined, Сбросить = Undefined) Экспорт
```

### Когда

```bsl
// Предварительно устанавливает любые условия или принимает полностью готовый JSON для последующей отправки данных на MockServer.
// 
// Параметры:
// 	Запрос - ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с предустановленными условиями;
//       - Строка - JSON для отправки на MockServer;   
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта;
// 	
// Пример:
//  Мок.Когда( Мок.Путь("/фуу/foo") ).Ответить();
// 	Мок.Когда("{""sample"": ""any""}").Ответить();
//
Функция Когда(Запрос) Экспорт
```

### Запрос

```bsl
// Подготавливает коллекцию свойств запроса в узле "httpRequest".
// 
// Параметры:
// 	Запрос - Строка - свойства запроса в виде строки в формате JSON;
//          - Неопределено - в коллекцию условий для узла 'httpRequest' будет добавлена пустая коллекция;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с новой коллекцией условий;
//
// Пример:
//	Мок.Когда( Мок.Запрос().Путь("/фуу/foo") ).Ответить( Мок.Ответ().Тело("some_response_body") );
//	Мок.Когда( Мок.Запрос("""method"": ""GET""") ).Ответить( Мок.Ответ().Тело("some_response_body") );
//
Функция Запрос(Запрос = Undefined) Экспорт
```

### Ответ

```bsl
// Подготавливает коллекцию свойств ответа в узле "httpResponse".
// 
// Параметры:
// 	Ответ - Строка - свойства ответа в виде строки в формате JSON;
//          - Неопределено - в коллекцию условий для узла 'httpResponse' будет добавлена пустая коллекция;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с новой коллекцией условий;
//
// Пример:
//	Мок.Когда( Мок.Запрос().Путь("/фуу/foo") ).Ответить( Мок.Ответ().Тело("some_response_body") );
//	Мок.Когда( Мок.Запрос().Путь("/фуу/foo") ).Ответить( Мок.Ответ("""body"": ""some_response_body""") );
//
Функция Ответ(Ответ = Undefined) Экспорт
```

### Повторений

```bsl
// Устанавливает условия на проверку количества запросов к MockServer.
// 
// Параметры:
// 	Условие - Строка - условие проверки на количество запросов в виде строки в формате JSON;
//          - Неопределено - в коллекцию условий для узла 'times' будет добавлена пустая коллекция;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с новой коллекцией условий;
//
// Пример:
//	Мок.Когда( Мок.Запрос().Метод("GET") ).Проверить( Мок.Повторений().НеБолее(3) );
//  Результат = Мок.Проверить().НеМенее(3).НеБолее(3);
//  Результат = Мок.Проверить( """atLeast"": 3, ""atMost"": 3" );
//
Функция Повторений(Условие = Undefined) Экспорт
```

### НеМенее

```bsl
// Добавляет условие, что количество запросов к MockServer было не менее n раз.
// 
// Параметры:
// 	Повторений - Число - количество повторений запросов;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта;
//
Функция НеМенее(Знач Повторений) Экспорт
```

### НеБолее

```bsl
// Добавляет условие, что количество запросов к MockServer было не более n раз.
// 
// Параметры:
// 	Повторений - Число - количество повторений запросов;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта;
//
Функция НеБолее(Знач Повторений) Экспорт
```

### Точно

```bsl
// Добавляет условие, что количество запросов к MockServer было ровно n раз.
// 
// Параметры:
// 	Повторений - Число - количество повторений запросов;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта;
//
Функция Точно(Знач Повторений) Экспорт
```

### Однократно

```bsl
// Добавляет условие, что запрос к MockServer был только один раз.
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта;
//
Функция Однократно() Экспорт
```

### Между

```bsl
// Добавляет условие, что количество запросов к MockServer было от n до m раз.
// 
// Параметры:
// 	От - Число - не менее n раз;
// 	До - Число - не более m раз;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта;
//
Функция Между(Знач От, Знач До) Экспорт
```

### Сбросить

```bsl
// Полностью сбрасывает MockServer (терминальная операция).
// 
Процедура Сбросить() Экспорт
```

### Ответить

```bsl
// Устанавливает ожидание запроса (терминальная операция).
// 
// Пример:
// 	Объект - ОбработкаОбъект.MockServerClient - объект с предварительно установленными условиями; 
//
// Example:
//	Мок.Когда( Мок.Запрос().Метод("GET") ).Ответить( Мок.Ответ().Тело("some_response_body") );
//	Мок.Ответить( Мок.Ответ().Тело("some_response_body") );
//	Мок.Ответить( Мок.Ответ("""statusCode"": 404") );
//
Процедура Ответить(Объект = Undefined) Экспорт
```

### Проверить

```bsl
// Проверяет наличие отправленного на сервер запроса (терминальная операция).
// 
// Параметры:
// 	Объект - ОбработкаОбъект.MockServerClient - объект с предварительно установленными условиями; 
//
// Пример:
//	Мок.Когда( Мок.Запрос().Метод("GET") ).Проверить( Мок.Повторений().НеБолее(3) );
//	Мок.Проверить( Мок.Повторений().НеБолее(3) );
//	Мок.Проверить( Мок.Повторений("""atMost"": 3") );
//
Процедура Проверить(Объект = Undefined) Экспорт
```

### ОжидатьOpenAPI

```bsl
// Устанавливает ожидание в соответствии с OpenAPI спецификацией (терминальная операция). 
// 
// Параметры:
// 	Источник - Строка - путь к документу с описанием данных или сами данные в соответствии с OpenAPI спецификацией;
// 	Операции - Строка - id операции и код статуса ответа для выбранной операции в виде строки в формате JSON;
// 	
// Пример:
//  Мок.ОжидатьOpenAPI( "file:/Users/me/openapi.json" );
//  Мок.ОжидатьOpenAPI( "http://example.com/mock/openapi.json", """some_operation_id"": ""200""" );
//  Мок.ОжидатьOpenAPI( "---\n""
//        + """openapi: 3.0.0\n"""
//        + """info:\n"""
//		...
//        + """...OpenAPI specification here""" " );	
//
Процедура ОжидатьOpenAPI(Знач Источник, Знач Операции = "") Экспорт
```

### Успешно

```bsl
// Возвращает результат выполнения PUT-метода для последней терминальной операции (действия).
// 
// Возвращаемое значение:
// 	Булево - Истина - операция выполнена успешно, иначе - Ложь;
//
Функция Успешно() Экспорт
```

### Метод

```bsl
// Добавляет свойство "method".
// См. также: https://www.mock-server.com/mock_server/creating_expectations.html#request_property_matchers 
// 
// Параметры:
// 	Метод - Строка - имя метода;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с добавленным свойством;
//
// Пример:
//  
//  Мок.Когда(
//      Мок.Запрос()
//        .Метод("!GET")
//    ).Ответить(
//      Мок.Ответ()
//        .Тело("some_response_body")
//    );
//
Функция Метод(Метод) Экспорт
```

### Путь

```bsl
// Добавляет свойство "path".
// См. также: https://www.mock-server.com/mock_server/creating_expectations.html#request_property_matchers
// 
// Параметры:
// 	Путь - Строка - относительный путь;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с добавленным свойством;
//
// Пример:
//  
//  Мок.Когда(
//      Мок.Запрос()
//        .Путь("/some/path")
//    ).Ответить(
//      Мок.Ответ()
//        .Тело("some_response_body")
//    );
//
Функция Путь(Путь) Экспорт
```

### ПараметрСтрокиЗапроса

```bsl
// Добавляет свойство "queryStringParameters".
// См. также: https://www.mock-server.com/mock_server/getting_started.html#request_key_to_multivalue_matchers
// 
// Параметры:
// 	Ключ - Строка - ключ параметра строки запроса;
// 	Значение - Строка - значение параметра строки запроса;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с добавленным свойством;
//
// Пример:
//  
//  Мок.Когда(
//      Мок.Запрос()
//        .Путь("/some/path")
//        .ПараметрСтрокиЗапроса("cartId", "[A-Z0-9\\-]+")
//        .ПараметрСтрокиЗапроса("anotherId", "[A-Z0-9\\-]+")
//    ).Ответить(
//      Мок.Ответ()
//        .Тело("some_response_body")
//    );
//
Функция ПараметрСтрокиЗапроса(Ключ, Значение) Экспорт
```

### Заголовки

```bsl
// Добавляет коллекцию свойств в узле "headers" или создает пустую коллекцию.
//
// Параметры:
// 	Заголовки - Соответствие - коллекция заголовков (Ключ = имя заголовка, Значение = массив строк);
//          - Неопределено - в коллекцию условий для узла 'headers' будет добавлена пустая коллекция;
//
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с добавленным свойством;
//
// Пример:
// 
// 	Вариант 1:
// 	
//  Мок.Когда(
//      Мок.Запрос()
//        .Метод("GET")
//        .Путь("/some/path")
//        .Заголовки()
//          .Заголовок("Accept", "application/json")
//          .Заголовок("Accept-Encoding", "gzip, deflate, br")
//    ).Ответить(
//      Мок.Ответ()
//        .Тело("some_response_body")
//    );
//
//	Вариант 2:
//	
//	Заголовок_1 = Новый Массив();
//	Заголовок_1.Добавить("11");
//	Заголовок_1.Добавить("12");
//	Заголовок_2 = Новый Массив();
//	Заголовок_2.Добавить("21");
//	Заголовок_2.Добавить("22");
//	Заголовки = Новый Соответствие();
//	Заголовки.Вставить("Заголовок_1", Заголовок_1);
//	Заголовки.Вставить("Заголовок_2", Заголовок_2);
//	
//	Мок.Когда( Мок.Запрос().Заголовки(Заголовки) ).Ответить();
//
Функция Заголовки(Заголовки = Undefined) Экспорт
```

### Заголовок

```bsl
// Добавляет свойство "header" в коллекцию свойств "headers".
// См. также: https://www.mock-server.com/mock_server/getting_started.html#request_key_to_multivalue_matchers
// 
// Параметры:
// 	Ключ - Строка - ключ заголовка;
// 	Значение - Строка - значение заголовка;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с добавленным свойством;
//
// Пример:
// 
//  Мок.Когда(
//      Мок.Запрос()
//        .Метод("GET")
//        .Путь("/some/path")
//        .Заголовки()
//          .Заголовок("Accept", "application/json")
//          .Заголовок("Accept-Encoding", "gzip, deflate, br")
//    ).Ответить(
//      Мок.Ответ()
//        .Тело("some_response_body")
//    );
//
Функция Заголовок(Ключ, Значение) Экспорт
```

### Тело

```bsl
// Добавляет свойство "body".
// См. также: https://www.mock-server.com/mock_server/creating_expectations.html#request_property_matchers
// 
// Параметры:
// 	Тело - Строка - строковое значение тела;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с добавленным свойством;
//
// Пример:
//  
//  Мок.Ответить(
//      Мок.Ответ()
//        .Тело("some_response_body")
//    );
//
Функция Тело(Тело) Экспорт
```

### КодОтвета

```bsl
// Добавляет свойство "statusCode".
// См. также: https://www.mock-server.com/mock_server/creating_expectations.html#request_property_matchers
// 
// Параметры:
// 	КодОтвета - Число - числовой код статуса ответа;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с добавленным свойством;
//
// Пример:
//  
//  Мок.Когда(
//      Мок.Запрос()
//        .Метод("GET")
//        .Путь("/some/path")
//    ).Ответить(
//      Мок.Ответ()
//        .КодОтвета(418)
//        .Причина("I'm a teapot")
//    );
//
Функция КодОтвета(КодОтвета) Экспорт
```

### Причина

```bsl
// Добавляет свойство "reasonPhrase".
// См. также: https://www.mock-server.com/mock_server/creating_expectations.html#request_property_matchers
// 
// Параметры:
// 	Причина - Строка - причина;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с добавленным свойством;
//
// Пример:
//  
//  Мок.Когда(
//      Мок.Запрос()
//        .Метод("GET")
//        .Путь("/some/path")
//    ).Ответить(
//      Мок.Ответ()
//        .КодОтвета(418)
//        .Причина("I'm a teapot")
//    );
//
Функция Причина(Причина) Экспорт
```

### Источник

```bsl
// Добавляет свойство "specUrlOrPayload", которое описывает источник данных или сами данные в формате OpenAPI.
// 
// Параметры:
// 	Источник - Строка - путь к документу с описанием данных или сами данные в соответствии с OpenAPI спецификацией;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с добавленным свойством;
//
// Пример:
//  
// 	Мок.Когда(
//		Мок.OpenAPI()
//			.Источник("https://example.com/openapi.json")
//	).Проверить(
//		Мок.Повторений()
//			.НеМенее(2)
//	);
//
//  Результат = Мок.OpenAPI().Источник( "file:/Users/me/openapi.json" );
//
Функция Источник(Источник) Экспорт
```

### Операция

```bsl
// Добавляет свойство "operationId", указывающее на операцию из спецификации документа OpenAPI;
// 
// Параметры:
// 	Операция - Строка - операция из документа OpenAPI;
// 	
// Возвращаемое значение:
// 	ОбработкаОбъект.MockServerClient - текущий экземпляр мок-объекта с добавленным свойством;
//
// Пример:
//  
// 	Мок.Когда(
//		Мок.OpenAPI()
//			.Источник("https://example.com/openapi.json")
//			.Операция("listPets")
//	).Проверить(
//		Мок.Повторений()
//			.НеМенее(2)
//	);
//
//  Результат = Мок.OpenAPI().Источник( "file:/Users/me/openapi.json" ).Операция("listPets");
//
Функция Операция(Операция) Экспорт
```

